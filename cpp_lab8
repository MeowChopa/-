#include<iostream>
#include<fstream>
#include<string>
#include<cmath>
#include<locale>

using namespace std;

string str_in(){

    string x = " ";
    cout<<"Введите строку: ";
    cin>>x;
    return x;

}

int type_of(){
    int x = 0;
    do{
    cout<<"Введите значение переменной: ";
    cin>>x;

    if(cin.fail() || x <= 0){
        cout<<"Введено некорректное значение"<<endl;
        cin.clear();
        cin.ignore(numeric_limits<streamsize>::max(),'\n');
    }
    else{ break;}
    }while(true);

    return x;
}

int main(){
    setlocale(LC_ALL, "RU");

    string file_path_input = "C:\\Users\\USER\\Desktop\\input.txt";
    string file_path_output = "C:\\Users\\USER\\Desktop\\output.txt";
    
    cout<<"Введите кол-во строк, которое хотите ввести: "<<endl;
    int number_of_lines = type_of();

    ofstream input_file(file_path_input);
    ifstream output_file(file_path_output);

    if(!input_file.is_open()){
        cout<<"файл не открыт"<<endl;
        return 1;
    }
    
    for(int i = 0; i<number_of_lines;i++){
        input_file << str_in()<<endl;
    }

    input_file.close();
    output_file.close();

    if(!output_file){
        cout<<"Файл не найден"<<endl;
        return 2;
    }
    
    ifstream input_read(file_path_input);
    ofstream output_write(file_path_output);
    if(!input_read.is_open()){
        cout<<"файл не открыт"<<endl;
        return 1;
    }
    if(!output_write.is_open()){
        cout<<"файл не открыт"<<endl;
        return 1;
    }

    string str;
    int line_count = 0;
     while (getline(input_read, str)) {
        output_write << str << endl;
        line_count++;
    }
    input_read.close();
    output_write.close();

    return 0;
}
